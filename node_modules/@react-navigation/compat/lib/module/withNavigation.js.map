{"version":3,"sources":["withNavigation.tsx"],"names":["React","useCompatNavigation","withNavigation","Comp","WrappedComponent","onRef","rest","navigation","displayName","name"],"mappings":";;AAAA,OAAO,KAAKA,KAAZ,MAAuB,OAAvB;AAEA,OAAOC,mBAAP,MAAgC,uBAAhC;AAOA,eAAe,SAASC,cAAT,CAIbC,IAJa,EAIJ;AACT,QAAMC,gBAAgB,GAAG,CAAC;AACxBC,IAAAA,KADwB;AAExB,OAAGC;AAFqB,GAAD,KAOC;AACxB,UAAMC,UAAU,GAAGN,mBAAmB,EAAtC,CADwB,CAGxB;;AACA,wBAAO,oBAAC,IAAD;AAAM,MAAA,GAAG,EAAEI,KAAX;AAAkB,MAAA,UAAU,EAAEE;AAA9B,OAA8CD,IAA9C,EAAP;AACD,GAZD;;AAcAF,EAAAA,gBAAgB,CAACI,WAAjB,4BACEL,IAAI,CAACK,WAAL,IAAoBL,IAAI,CAACM,IAD3B;AAIA,SAAOL,gBAAP;AACD","sourcesContent":["import * as React from 'react';\nimport type { NavigationProp, ParamListBase } from '@react-navigation/native';\nimport useCompatNavigation from './useCompatNavigation';\nimport type { CompatNavigationProp } from './types';\n\ntype InjectedProps<T extends NavigationProp<ParamListBase>> = {\n  navigation: CompatNavigationProp<T>;\n};\n\nexport default function withNavigation<\n  T extends NavigationProp<ParamListBase>,\n  P extends InjectedProps<T>,\n  C extends React.ComponentType<P>\n>(Comp: C) {\n  const WrappedComponent = ({\n    onRef,\n    ...rest\n  }: Exclude<P, InjectedProps<T>> & {\n    onRef?: C extends React.ComponentClass<any>\n      ? React.Ref<InstanceType<C>>\n      : never;\n  }): React.ReactElement => {\n    const navigation = useCompatNavigation<T>();\n\n    // @ts-expect-error: type checking HOC is hard\n    return <Comp ref={onRef} navigation={navigation} {...rest} />;\n  };\n\n  WrappedComponent.displayName = `withNavigation(${\n    Comp.displayName || Comp.name\n  })`;\n\n  return WrappedComponent;\n}\n"]}